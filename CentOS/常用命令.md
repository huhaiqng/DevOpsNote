##### lsof

> -P: 端口号显示数字不显示名称。
>
> -n: 主机显示 IP 不显示主机名。

显示所有连接

```
lsof -i
```

显示 TCP 连接

```
lsof -i TCP
```

显示指定端口号的连接，包括源和目的的。

```
lsof -i :80
```

显示到目的 IP 的连接

```
lsof -i @192.168.1.1
```

显示到目的 IP 和端口号的连接

```
lsof -i @192.168.1.1
```

显示与指定目录交互的所有一切

```
lsof /var/log/messages/
```

显示与指定文件交互的所有一切

```
lsof /var/log/message
```

显示指定进程 ID 打开的内容

```
lsof -p 8888
```

显示指定进程 ID 建立的连接

```
lsof -i TCP | grep 8888
```

显示指定命令打开的内容

```
lsof -c java
```

参考文档: https://www.jianshu.com/p/a3aa6b01b2e1



##### ss

显示主机监听的端口

```
ss -ntl
```

显示建立的 TCP 连接

```
ss -tna
```

显示本地 IP 和端口号建立的连接

```
ss src 192.168.119.103
ss src 192.168.119.103:80
```

显示远程 IP 和端口号建立的连接

```
ss dst 192.168.119.113
ss dst 192.168.119.113:443
```

